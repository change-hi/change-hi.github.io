<!DOCTYPE html>
<html lang="en">
<head>
  <title> Change-HI/EDU | 4. Accessing and Subsetting Data </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">

  <link rel="stylesheet" href="/css/themes/spacelab/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <link href="/css/fontawesome/css/fontawesome.css" rel="stylesheet">
  <link href="/css/fontawesome/css/brands.css" rel="stylesheet">
  <link href="/css/fontawesome/css/solid.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>

  

  <!-- Load JQuery, then use it to attach the class 'active' to navbar item currently displayed. -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script>
    $(window).on('load', function () {
      $('.nav-item').find('a[href="' + location.pathname + '"]').addClass('active');
    });
  </script>

</head>
<body>

<div class="navbar navbar-expand-lg fixed-top navbar-light bg-light">
  <div class="container">
    <a class="navbar-brand" href="/index.html"> Change-HI/EDU </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav">
        
        <li class="nav-item"><a class="nav-link" href="/modules/">Modules</a></li>
        
        <li class="nav-item"><a class="nav-link" href="/outcomes/">Outcomes</a></li>
        
        
        <li class="nav-item"><a class="nav-link" href="/readings/">Readings</a></li>
        
        
        <li class="nav-item"><a class="nav-link" href="/experiences/">Experiences</a></li>
        
        
        <li class="nav-item"><a class="nav-link" href="/assessments/">Assessments</a></li>
        
        
      </ul>
    </div>
  </div>
</div>

<!-- Internal fragment for displaying the breadcrumb bar -->
<div class="breadcrumb-background" style="padding-top: 1em; padding-bottom: .01em">
  <div class="container">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        
        <li class="breadcrumb-item"><a href="/">Home</a></li>
        <li class="breadcrumb-item"><a href="/modules">Modules</a></li>
        <li class="breadcrumb-item"><a href="/modules/data-wrangling-1">Data Wrangling, Part 1</a></li>
        <li class="breadcrumb-item active">4. Accessing and Subsetting Data</li>
      </ol>
    </nav>
  </div>
</div>


<div class="container">
  <h1 id="4-accessing-and-subsetting-data">4. Accessing and Subsetting Data</h1>

<p><a target="_blank" href="https://colab.research.google.com/github/mahdi-b/change-hi.github.io/blob/main/morea/data-wrangling-1/Notebook/04-data-data-accessing-subsetting.ipynb">
  <img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab" />
</a></p>

<div class="alert alert-success mt-3" role="alert">
  <p><i class="fa-solid fa-globe fa-xl"></i> <strong>Overview</strong></p>
  <hr />

  <p><strong>Questions</strong></p>
  <ul>
    <li>How can you select individual columns or rows from a <code class="language-plaintext highlighter-rouge">DataFrame</code>?</li>
    <li>How can you subset a <code class="language-plaintext highlighter-rouge">DataFrame</code>?</li>
    <li>How can you sort a <code class="language-plaintext highlighter-rouge">DataFrame</code>?</li>
  </ul>

  <p><strong>Objectives</strong></p>
  <ul>
    <li>Learn how to select specific columns or rows from a <code class="language-plaintext highlighter-rouge">DataFrame</code></li>
    <li>Learn how to select rows based on conditions.</li>
    <li>Learn how to sort a <code class="language-plaintext highlighter-rouge">DataFrame</code>’s rows or columns.</li>
  </ul>

</div>

<h1 id="selection-subsetting-and-sorting-a-dataframe">Selection, Subsetting and Sorting a <code class="language-plaintext highlighter-rouge">DataFrame</code></h1>

<p>When exploring our data we will often want to modify specific rows, columns,  or entries that satisfy certain conditions. We may want to either look at a single column of the data or work with a subset of the original data. Furthermore, it is often helpful to sort our data set using a particular relation to identify patterns and to understand the data’s structure. For example, suppose the original dataset we acquire and want to analyze describes a sports team’s performance for each game during a season and its original order is chronological. It may be interesting to sort the gameplay statistics using a different relation such as number of points scored to easily identify high and low-scoring games.</p>

<p>As with previous modules, you should follow along in the notebook, which can be opened by clicking the Open in Colab button above.</p>

<h2 id="selection">Selection</h2>

<p>Selecting data from a <code class="language-plaintext highlighter-rouge">DataFrame</code> is intuitive and builds on concepts we discussed in the previous module. A <code class="language-plaintext highlighter-rouge">DataFrame</code> holds column names, called headers, and row names, called indexes. Depending on how we loaded the data these might be integers, strings (text) or combinations of both.</p>

<p>In the context of the table shown in the image below, Pandas allows us to choose specific combinations of rows and columns from the associated DataFrame. We will cover some ways to do that in the sections that follow:</p>

<figure>
  
    <img src="/morea/data-wrangling-1/fig/E4_1_selection_dataframe.png" style="max-width: 60%;" alt="/Selection%20DataFrame" class="img-fluid mx-auto d-block border" />
  
  <figcaption style="text-align: center">
    <small>
      
    </small>
  </figcaption>
</figure>

<h3 id="selecting-columns">Selecting Columns</h3>

<p>To begin, let’s concentrate on subsetting columns. This operation closely resembles accessing keys in a Python dictionary. Thus, if we possess a DataFrame named df with a column labeled <code class="language-plaintext highlighter-rouge">'ph'</code>, we can subset the DataFrame by employing <code class="language-plaintext highlighter-rouge">df['ph']</code>.</p>

<div class="alert alert-secondary" role="alert">

  <h6 id="python">Python</h6>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="s">'ph'</span><span class="p">]</span>
</code></pre></div>  </div>

  <h6 id="output">Output</h6>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Sample ID
Sample-1    7.951
Sample-2      NaN
Sample-3      NaN
Sample-4    7.780
Sample-5      NaN
Sample-6      NaN
Sample-7      NaN
Sample-8    7.496
Name: ph, dtype: float64
</code></pre></div>  </div>

</div>

<h3 id="selecting-rows">Selecting Rows</h3>

<p>If on the other hand, we want to access a subset rows we have to use a slightly different approach. Previously, we could just pass the name of the column inside brackets if we want to access one or more rows we need to use the <code class="language-plaintext highlighter-rouge">.loc</code> or <code class="language-plaintext highlighter-rouge">.iloc</code> methods.</p>

<p>The first abbreviation, ‘loc,’ represents ‘location’ and requires you to specify the names of the rows you wish to access. The second abbreviation, ‘iloc,’ represents ‘integer location’ and requires you to provide the row index (a numerical value). Both methods can be set to retrieve the complete row(s), or only a subset of values associated with columns of interest.</p>

<p>So if we again have a <code class="language-plaintext highlighter-rouge">DataFrame</code> called <code class="language-plaintext highlighter-rouge">df</code> and a row called ‘Sample-1’ we can access it using <code class="language-plaintext highlighter-rouge">df.loc['Sample-1', df.columns]</code>.</p>

<div class="alert alert-secondary" role="alert">

  <h6 id="python-1">Python</h6>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="s">'Sample-1'</span><span class="p">,</span> <span class="n">df</span><span class="p">.</span><span class="n">columns</span><span class="p">]</span>
</code></pre></div>  </div>

  <h6 id="output-1">Output</h6>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>date mmddyy     40610.0000
press dbar        239.8000
temp ITS-90        18.9625
csal PSS-78        35.0636
coxy umol/kg           NaN
ph                  7.9510
Name: Sample-1, dtype: float64
</code></pre></div>  </div>

</div>

<p>The attribute <code class="language-plaintext highlighter-rouge">columns</code> in the expression <code class="language-plaintext highlighter-rouge">df.columns</code> is used to retrieve all the header names (column labels) within the DataFrame referred to as <code class="language-plaintext highlighter-rouge">df</code>. It is employed above to inform Pandas that the column values within the DataFrame corresponding to the row labeled ‘Sample-1’ should be accessed.</p>

<p>If we were to use <code class="language-plaintext highlighter-rouge">.iloc</code> instead of <code class="language-plaintext highlighter-rouge">.loc</code> for the previous example and we know that ‘Sample-1’ is at index position 0 we would use <code class="language-plaintext highlighter-rouge">df.iloc[0, :]</code> and get the same result. You might notice that we also had to change <code class="language-plaintext highlighter-rouge">df.columns</code> to <code class="language-plaintext highlighter-rouge">:</code> when we used <code class="language-plaintext highlighter-rouge">.iloc</code> this is because <code class="language-plaintext highlighter-rouge">df.columns</code> provides the names of all the headers which is fine to do with <code class="language-plaintext highlighter-rouge">.loc</code> but not <code class="language-plaintext highlighter-rouge">.iloc</code> since the latter requires indexes, not names (strings).</p>

<div class="alert alert-secondary" role="alert">

  <h6 id="python-2">Python</h6>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span>
</code></pre></div>  </div>

  <h6 id="output-2">Output</h6>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>date mmddyy     40610.0000
press dbar        239.8000
temp ITS-90        18.9625
csal PSS-78        35.0636
coxy umol/kg           NaN
ph                  7.9510
Name: Sample-1, dtype: float64
</code></pre></div>  </div>

</div>

<h2 id="the--operator-refresher">The <code class="language-plaintext highlighter-rouge">:</code> operator: refresher</h2>

<div class="alert alert-secondary" role="alert">

  <p>When used inside brackets, the <code class="language-plaintext highlighter-rouge">:</code> operator will return the range between the two values it is given. For example, if we had a Python list <code class="language-plaintext highlighter-rouge">x</code> with the following values [‘a’, ‘b’, ‘c’, ‘d’, ‘e’] and wanted to select ‘b’, ‘c’, and ‘d’ we can do this very concisely using the <code class="language-plaintext highlighter-rouge">:</code> operator.</p>

  <h6 id="python-3">Python</h6>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">,</span> <span class="s">'e'</span><span class="p">]</span>
<span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
</code></pre></div>  </div>

  <p>With the output:</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>['c', 'd', 'e']
</code></pre></div>  </div>

</div>

<h3 id="selecting-columns-and-rows-simultaneously">Selecting Columns and Rows Simultaneously</h3>

<p>As we saw in the previous section we can select one or more rows and/or columns to view. For example, if we wanted to view the ‘ph’ entry of ‘Sample-1’ from the previous example we could use <code class="language-plaintext highlighter-rouge">.loc</code> in the following manner.</p>

<div class="alert alert-secondary" role="alert">

  <h6 id="python-4">Python</h6>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="s">'Sample-1'</span><span class="p">,</span> <span class="s">'ph'</span><span class="p">]</span>
</code></pre></div>  </div>

  <h6 id="output-3">Output</h6>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>7.951
</code></pre></div>  </div>

</div>

<p>If we wanted to select multiple columns e.g. both the ‘ph’ and ‘Longitude’ columns we can change the code bit to fit our needs.</p>

<div class="alert alert-secondary" role="alert">

  <h6 id="python-5">Python</h6>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="s">'Sample-1'</span><span class="p">,</span> <span class="p">[</span><span class="s">'ph'</span><span class="p">,</span> <span class="s">'Longitude'</span><span class="p">]]</span>
</code></pre></div>  </div>

  <h6 id="output-4">Output</h6>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>temp ITS-90    18.9625
ph              7.9510
Name: Sample-1, dtype: float64
</code></pre></div>  </div>

</div>

<h2 id="using-iloc">Using <code class="language-plaintext highlighter-rouge">.iloc</code></h2>

<p>You can just as well use <code class="language-plaintext highlighter-rouge">.iloc</code> for the two examples above, but you will need to change the index and headers to their respective integer values i.e. the row number(s) and the header number(s).</p>

<h2 id="subsetting">Subsetting</h2>

<p>Comparison operations (“&lt;” , “&gt;” , “==” , “&gt;=” , “&lt;=” , “!=”) can be applied to pandas <code class="language-plaintext highlighter-rouge">Series</code> and <code class="language-plaintext highlighter-rouge">DataFrame</code>s in the same vectorized fashion as arithmetic operations except the returned object is a <code class="language-plaintext highlighter-rouge">Series</code> or <code class="language-plaintext highlighter-rouge">DataFrame</code> of booleans (either <code class="language-plaintext highlighter-rouge">True</code> or <code class="language-plaintext highlighter-rouge">False</code>). Below are a few examples</p>

<h3 id="within-a-single-dataframe">Within a Single <code class="language-plaintext highlighter-rouge">DataFrame</code></h3>

<p>As an example lets say that we have a <code class="language-plaintext highlighter-rouge">DataFrame</code> like the one below stored in <code class="language-plaintext highlighter-rouge">df</code>:</p>

<figure>
  
    <img src="/morea/data-wrangling-1/fig/E4_1_selection_dataframe.png" style="max-width: 60%;" alt="/Selection%20DataFrame" class="img-fluid mx-auto d-block border" />
  
  <figcaption style="text-align: center">
    <small>
      
    </small>
  </figcaption>
</figure>

<p>To identify samples with a ‘pressure in dbar’ value less than 380 from the data, we begin by referencing the ‘press dbar’ column, similar to how we did it before. Subsequently, we apply a less-than condition to compare all the values in this column with the threshold of 380.</p>

<div class="alert alert-secondary" role="alert">

  <h6 id="python-6">Python</h6>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="s">'press dbar'</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">380</span>
</code></pre></div>  </div>

  <p>The output will be a Pandas <code class="language-plaintext highlighter-rouge">Series</code> (column) containing a boolean value for each row in the <code class="language-plaintext highlighter-rouge">df</code> that looks like the following.</p>

  <h6 id="output-5">Output</h6>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Sample ID
Sample-1     True
Sample-2     True
Sample-3     True
Sample-4     True
Sample-5     True
Sample-6    False
Sample-7    False
Sample-8    False
Name: press dbar, dtype: bool
</code></pre></div>  </div>

</div>

<p>The initial rows display a value of ‘True,’ whereas the other rows show  ‘False’, meaning the condition was not met. A brief inspection of the original dataset validates this alignment with our established condition. To access or store the rows identified as having a depth less than 380, we can either assign the resulting ‘Series’ to a variable for subsequent use or employ the previously applied code directly within parentheses. Both approaches yield identical results, as demonstrated below.</p>

<div class="alert alert-secondary" role="alert">

  <h6 id="python-7">Python</h6>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">good_rows</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'press dbar'</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">380</span>
<span class="n">df</span><span class="p">[</span><span class="n">good_rows</span><span class="p">]</span>
</code></pre></div>  </div>

  <p>This is equivalent to:</p>

  <h6 id="python-8">Python</h6>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'press dbar'</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">380</span><span class="p">]</span>
</code></pre></div>  </div>

  <p>Both expressions utilize the results of the condition df[‘press dbar’] &lt; 380 as an index on the DataFrame (df). This instructs pandas to retrieve rows associated with a ‘True’ value and exclude those associated with a ‘False’ value.</p>

  <p>Both of these code snippets will generate the same output:</p>

  <h6 id="output-6">Output</h6>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>           date mmddyy  press dbar  temp ITS-90  csal PSS-78  coxy umol/kg     ph
Sample ID                                                                        
Sample-1         40610       239.8      18.9625      35.0636           NaN  7.951
Sample-2         40610       280.7      16.1095      34.6103         192.3    NaN
Sample-3         40610       320.1      12.9729      34.2475         190.8    NaN
Sample-4         40610       341.3      11.9665      34.1884         191.3  7.780
Sample-5         40610       360.1      11.3636      34.1709         203.5    NaN
</code></pre></div>  </div>

</div>

<p>It might seem counterintuitive not to use <code class="language-plaintext highlighter-rouge">.loc</code> or <code class="language-plaintext highlighter-rouge">.iloc</code> even though we are selecting rows. This is due to the fact that the output of <code class="language-plaintext highlighter-rouge">df['press dbar'] &lt; 380</code> is a Pandas <code class="language-plaintext highlighter-rouge">Series</code> that contains information on the row and Pandas inherently assumes that when it is passed a boolean list like this that we want to select those rows that are <code class="language-plaintext highlighter-rouge">True</code>. A graphic example of this is shown below.</p>

<figure>
  
    <img src="/morea/data-wrangling-1/fig/E4_2_filter_dataframe.png" style="max-width: 60%;" alt="/Filter%20DataFrame" class="img-fluid mx-auto d-block border" />
  
  <figcaption style="text-align: center">
    <small>
      
    </small>
  </figcaption>
</figure>

<h2 id="sorting">Sorting</h2>

<p>There may also come a time when we want to see the data sorted by some criterion in order to explore potential patterns and order statistics of the entries based on a relation. For example, we might want to order a <code class="language-plaintext highlighter-rouge">DataFrame</code> by the depth that a sample was recovered from. <strong>Note: We can also sort the order of the columns based on their names.</strong></p>

<p>There are two primary approaches for sorting a DataFrame: one based on the index and the other based on values. When sorting by the index (it’s important to note that the index can represent either row or column labels), you can utilize the <code class="language-plaintext highlighter-rouge">sort_index()</code> method. This method accepts an argument for the axis parameter (0 for rows, 1 for columns). In our specific case using DataFrame df, since the rows are already sorted, we can reconfigure the order of the columns instead by specifiying <code class="language-plaintext highlighter-rouge">axis=1</code></p>

<div class="alert alert-secondary" role="alert">

  <h6 id="python-9">Python</h6>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="n">sort_index</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>  </div>

  <h6 id="output-7">Output</h6>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>           coxy umol/kg  csal PSS-78  date mmddyy     ph  press dbar  temp ITS-90
Sample ID                                                                        
Sample-1            NaN      35.0636        40610  7.951       239.8      18.9625
Sample-2          192.3      34.6103        40610    NaN       280.7      16.1095
Sample-3          190.8      34.2475        40610    NaN       320.1      12.9729
Sample-4          191.3      34.1884        40610  7.780       341.3      11.9665
Sample-5          203.5      34.1709        40610    NaN       360.1      11.3636
Sample-6          193.7      34.1083        40610    NaN       385.0      10.4636
Sample-7          156.5      34.0567        40610    NaN       443.7       8.5897
Sample-8          110.7      34.0424        40610  7.496       497.8       7.1464
</code></pre></div>  </div>

</div>

<p>Here we can see that we’ve ordered the columns alphabetically.</p>

<p>If we want to order the <code class="language-plaintext highlighter-rouge">DataFrame</code> based on the value in a particular column or row we instead use <code class="language-plaintext highlighter-rouge">sort_values()</code>. We can again use the pressure i.e. ‘press dbar’ column as an example and sort the rows by greatest to smallest pressure value.</p>

<div class="alert alert-secondary" role="alert">

  <h6 id="python-10">Python</h6>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s">'press dbar'</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div>  </div>

  <p>Will produce the reorder <code class="language-plaintext highlighter-rouge">DataFrame</code> as the output:</p>

  <h6 id="output-8">Output</h6>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>           date mmddyy  press dbar  temp ITS-90  csal PSS-78  coxy umol/kg     ph
Sample ID                                                                        
Sample-8         40610       497.8       7.1464      34.0424         110.7  7.496
Sample-7         40610       443.7       8.5897      34.0567         156.5    NaN
Sample-6         40610       385.0      10.4636      34.1083         193.7    NaN
Sample-5         40610       360.1      11.3636      34.1709         203.5    NaN
Sample-4         40610       341.3      11.9665      34.1884         191.3  7.780
Sample-3         40610       320.1      12.9729      34.2475         190.8    NaN
Sample-2         40610       280.7      16.1095      34.6103         192.3    NaN
Sample-1         40610       239.8      18.9625      35.0636           NaN  7.951
</code></pre></div>  </div>

</div>

<div class="alert alert-success mt-3" role="alert">
  <p><i class="fa-solid fa-globe fa-xl"></i> <strong>Key Points</strong></p>
  <hr />

  <ul>
    <li>Select columns by using <code class="language-plaintext highlighter-rouge">[\"column name\"]</code> or rows by using the <code class="language-plaintext highlighter-rouge">loc</code> attribute.</li>
    <li>Sort based on values in a column by using the <code class="language-plaintext highlighter-rouge">sort_values</code> method.</li>
  </ul>
</div>

<div class="alert alert-secondary" role="alert">
  <p><i class="fa-solid fa-user-pen fa-xl"></i>  <strong>Exercise: Subsetting a Data Set</strong></p>
  <hr />

  <p>Try it yourself! Going back to our <code class="language-plaintext highlighter-rouge">20_sales_records.xlsx</code> file, identify which orders are <code class="language-plaintext highlighter-rouge">Online</code> and <code class="language-plaintext highlighter-rouge">High Priority</code></p>

  <ul>
    <li>Read the first couple rows to get a sense of the data. Which column contains the status (<code class="language-plaintext highlighter-rouge">Online</code> or <code class="language-plaintext highlighter-rouge">Offline</code>).</li>
    <li>A ‘High Priority’ order is indicated by the label ‘H’ in a designated column.</li>
    <li>Retrieve all rows that correspond to online and high-priority orders. In Pandas, you have the option to combine conditions using the <code class="language-plaintext highlighter-rouge">&amp;</code> (and) and <code class="language-plaintext highlighter-rouge">|</code> (or) operators, as opposed to Python’s ‘and’ and ‘or’ operators.</li>
  </ul>

  <details>
  <summary>Solution</summary>

 First, we read in the first few lines of our data set to identify which columns we want to filter on. We want <code>Online</code> orders of  <code>High Priority</code>
  
  <pre>
  df = pd.read_excel('data/20_sales_records.xlsx', nrows=5)
  df
  </pre>

From the first few rows of data, we see that the column "Sales Channel" describes online/offline status and "Order Priority" describes order priority.

So we use loc along with a combination of conditionals to subset our DataFrame for rows with "Online" entries of "Sales Channel" and "H" level "Order Priority".

  <pre>
  df.loc[(df['Sales Channel'] == 'Online') &amp; (df['Order Priority'] == 'H')]
  </pre>

The resulting subset should show rows 7, 9, and 10 only.


Below is an image that shows how the subsetted `DataFrame` now looks:
<figure>
  
    <img src="/morea/data-wrangling-1/fig/E4_5_exercise.png" style="max-width: 80%;" alt="/Output%20DataFrame" class="img-fluid mx-auto d-block border" />
  
  <figcaption style="text-align: center">
    <small>
      
    </small>
  </figcaption>
</figure>

</details>
</div>

<div style="text-align: right; padding-bottom: 10px">
  <hr />
  <button type="button" onclick="window.location='/morea/data-wrangling-1/experience-dataframe-analysis.html'" class="btn btn-primary">
    <p style="font-size:16px; margin: 0">5. Common Methods on Series or DataFrames -&gt;</p>
    <p style="font-size:12px; margin: 0">2:50pm</p>
    </button>
</div>


</div>




<!-- Maybe find a different way?
<script src="/js/scrollIfAnchor.js"></script>
-->

<footer class="footer footer-background" style="padding-top: 1em; padding-bottom: 1em">
  <div class="container text-center">
    
    

    
    <p style="margin: 0">Powered by the <a class="footer-link" href="https://morea-framework.github.io/">Morea Framework</a> (Theme: spacelab)<br>
      Last update on: <span>2023-12-01 13:58:35 -1000</span></p>

    <p style="margin: 0">
      
      18 modules
      
      | 17 outcomes
      
      
      | 55 readings
      
      
      | 100 experiences
      
      
      | 15 assessments
      
    </p>
  </div>
</footer>


<!-- Load Bootstrap JavaScript components -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


<script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML">
</script>


<!-- Add anchors to pages. -->
<script>anchors.add();</script>


</body>
</html>
